{"ast":null,"code":"'use client';\n\nvar _jsxFileName = \"C:\\\\Users\\\\caioc\\\\Downloads\\\\AsaasFront\\\\src\\\\componentes\\\\payment\\\\payment.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { Check, Copy, AlertCircle, Loader2 } from 'lucide-react';\nimport { useRouter } from \"next/navigation\";\nimport { io } from \"socket.io-client\";\nimport QRCode from \"qrcode\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Payment() {\n  _s();\n  const router = useRouter();\n  const [copied, setCopied] = useState(false);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const value = \"R$ 1,00\";\n  const description = \"Plano de Acompanhamento\";\n  const [pixCode, setPixCode] = useState(\"\");\n  const [paymentStatus, setPaymentStatus] = useState(\"pending\");\n  const [socketConnected, setSocketConnected] = useState(false);\n  const [qrCodeData, setQrCodeData] = useState(null);\n  const [retryCount, setRetryCount] = useState(0);\n  useEffect(() => {\n    const initializePayment = async () => {\n      try {\n        setIsLoading(true);\n        // Create payment and get PIX code from backend\n        const response = await fetch(\"http://localhost:5000/payments\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            value: 1.00,\n            description,\n            paymentMethod: \"PIX\",\n            dueDate: new Date().toISOString().split(\"T\")[0],\n            customer: \"your-customer-id\" // Replace with actual customer ID\n          })\n        });\n\n        if (!response.ok) {\n          throw new Error(\"Falha ao gerar pagamento\");\n        }\n        const data = await response.json();\n        setPixCode(data.pixCode);\n        generateQRCode(data.pixCode);\n      } catch (err) {\n        console.error(\"Erro ao inicializar pagamento:\", err);\n        setError(\"Não foi possível gerar o pagamento. Tente novamente.\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const generateQRCode = async code => {\n      try {\n        const qrCode = await QRCode.toDataURL(code);\n        setQrCodeData(qrCode);\n      } catch (err) {\n        console.error(\"Erro ao gerar QR Code:\", err);\n        setError(\"Não foi possível gerar o QR Code.\");\n      }\n    };\n\n    // Socket connection\n    const socket = io(\"http://localhost:5000\", {\n      transports: [\"websocket\"],\n      reconnectionAttempts: 5,\n      reconnectionDelay: 1000,\n      timeout: 10000\n    });\n    socket.on(\"connect\", () => {\n      console.log(\"Socket.IO conectado!\");\n      setSocketConnected(true);\n      setError(null);\n    });\n    socket.on(\"paymentReceived\", data => {\n      console.log(\"Evento de pagamento recebido:\", data);\n      if (data.status === \"confirmed\") {\n        setPaymentStatus(\"confirmed\");\n        setError(null);\n        setTimeout(() => router.push(\"/thanks\"), 2000);\n      }\n    });\n    socket.on(\"paymentError\", data => {\n      console.error(\"Erro no pagamento:\", data);\n      setPaymentStatus(\"failed\");\n      setError(data.message || \"Falha no pagamento. Tente novamente.\");\n\n      // Increment retry count and reinitialize payment if under limit\n      if (retryCount < 3) {\n        setRetryCount(prev => prev + 1);\n        initializePayment();\n      }\n    });\n    initializePayment();\n    return () => {\n      socket.disconnect();\n    };\n  }, [router, retryCount]);\n  const copyToClipboard = async () => {\n    try {\n      await navigator.clipboard.writeText(pixCode);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (err) {\n      console.error(\"Erro ao copiar:\", err);\n      setError(\"Não foi possível copiar o código PIX\");\n    }\n  };\n  const handleRetry = () => {\n    setError(null);\n    setPaymentStatus(\"pending\");\n    setRetryCount(0);\n    window.location.reload();\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-gradient-to-r from-pink-400 via-purple-400 to-orange-400\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"w-full max-w-md\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(Loader2, {\n              className: \"h-8 w-8 animate-spin text-purple-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Gerando pagamento...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-pink-400 via-purple-400 to-orange-400\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"w-full max-w-md bg-white/80 backdrop-blur-sm\",\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: /*#__PURE__*/_jsxDEV(CardTitle, {\n          className: \"text-center\",\n          children: \"Informa\\xE7\\xF5es do Pagamento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        className: \"space-y-6\",\n        children: [!socketConnected && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"warning\",\n          children: /*#__PURE__*/_jsxDEV(AlertDescription, {\n            children: \"Conectando ao servidor de pagamentos...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-100 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium mb-2\",\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-purple-600\",\n            children: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), error ? /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"destructive\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            size: \"sm\",\n            onClick: handleRetry,\n            className: \"mt-2\",\n            children: \"Tentar novamente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center space-y-4\",\n          children: [qrCodeData && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: qrCodeData || \"/placeholder.svg\",\n            alt: \"QR Code PIX\",\n            className: \"w-64 h-64\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 text-center\",\n            children: \"Escaneie o QR Code acima com o seu aplicativo banc\\xE1rio para realizar o pagamento via PIX\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"w-full\",\n          onClick: copyToClipboard,\n          disabled: !!error || !socketConnected,\n          children: copied ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Check, {\n              className: \"mr-2 h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this), \"Copiado!\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Copy, {\n              className: \"mr-2 h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this), \"Copiar c\\xF3digo PIX\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), !error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `font-semibold ${paymentStatus === \"confirmed\" ? \"text-green-600\" : paymentStatus === \"failed\" ? \"text-red-600\" : \"text-gray-600\"}`,\n            children: paymentStatus === \"confirmed\" ? \"Pagamento confirmado!\" : paymentStatus === \"failed\" ? \"Pagamento falhou. Tente novamente.\" : \"Aguardando pagamento...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n}\n_s(Payment, \"l/rZ9u0QlT1PBdhEaMIF6kphmO8=\", false, function () {\n  return [useRouter];\n});\n_c = Payment;\nvar _c;\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","Check","Copy","AlertCircle","Loader2","useRouter","io","QRCode","Button","Card","CardContent","CardHeader","CardTitle","Alert","AlertDescription","jsxDEV","_jsxDEV","Fragment","_Fragment","Payment","router","copied","setCopied","error","setError","isLoading","setIsLoading","value","description","pixCode","setPixCode","paymentStatus","setPaymentStatus","socketConnected","setSocketConnected","qrCodeData","setQrCodeData","retryCount","setRetryCount","initializePayment","response","fetch","method","headers","body","JSON","stringify","paymentMethod","dueDate","Date","toISOString","split","customer","ok","Error","data","json","generateQRCode","err","console","code","qrCode","toDataURL","socket","transports","reconnectionAttempts","reconnectionDelay","timeout","on","log","status","setTimeout","push","message","prev","disconnect","copyToClipboard","navigator","clipboard","writeText","handleRetry","window","location","reload","className","children","fileName","lineNumber","columnNumber","variant","size","onClick","src","alt","disabled","_c","$RefreshReg$"],"sources":["C:/Users/caioc/Downloads/AsaasFront/src/componentes/payment/payment.jsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Check, Copy, AlertCircle, Loader2 } from 'lucide-react'\r\nimport { useRouter } from \"next/navigation\"\r\nimport { io } from \"socket.io-client\"\r\nimport QRCode from \"qrcode\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\r\n\r\nexport default function Payment() {\r\n  const router = useRouter()\r\n  const [copied, setCopied] = useState(false)\r\n  const [error, setError] = useState(null)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const value = \"R$ 1,00\"\r\n  const description = \"Plano de Acompanhamento\"\r\n  const [pixCode, setPixCode] = useState(\"\")\r\n  const [paymentStatus, setPaymentStatus] = useState(\"pending\")\r\n  const [socketConnected, setSocketConnected] = useState(false)\r\n  const [qrCodeData, setQrCodeData] = useState(null)\r\n  const [retryCount, setRetryCount] = useState(0)\r\n\r\n  useEffect(() => {\r\n    const initializePayment = async () => {\r\n      try {\r\n        setIsLoading(true)\r\n        // Create payment and get PIX code from backend\r\n        const response = await fetch(\"http://localhost:5000/payments\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            value: 1.00,\r\n            description,\r\n            paymentMethod: \"PIX\",\r\n            dueDate: new Date().toISOString().split(\"T\")[0],\r\n            customer: \"your-customer-id\" // Replace with actual customer ID\r\n          }),\r\n        })\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\"Falha ao gerar pagamento\")\r\n        }\r\n\r\n        const data = await response.json()\r\n        setPixCode(data.pixCode)\r\n        generateQRCode(data.pixCode)\r\n      } catch (err) {\r\n        console.error(\"Erro ao inicializar pagamento:\", err)\r\n        setError(\"Não foi possível gerar o pagamento. Tente novamente.\")\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n\r\n    const generateQRCode = async (code) => {\r\n      try {\r\n        const qrCode = await QRCode.toDataURL(code)\r\n        setQrCodeData(qrCode)\r\n      } catch (err) {\r\n        console.error(\"Erro ao gerar QR Code:\", err)\r\n        setError(\"Não foi possível gerar o QR Code.\")\r\n      }\r\n    }\r\n\r\n    // Socket connection\r\n    const socket = io(\"http://localhost:5000\", {\r\n      transports: [\"websocket\"],\r\n      reconnectionAttempts: 5,\r\n      reconnectionDelay: 1000,\r\n      timeout: 10000,\r\n    })\r\n\r\n    socket.on(\"connect\", () => {\r\n      console.log(\"Socket.IO conectado!\")\r\n      setSocketConnected(true)\r\n      setError(null)\r\n    })\r\n\r\n    socket.on(\"paymentReceived\", (data) => {\r\n      console.log(\"Evento de pagamento recebido:\", data)\r\n      if (data.status === \"confirmed\") {\r\n        setPaymentStatus(\"confirmed\")\r\n        setError(null)\r\n        setTimeout(() => router.push(\"/thanks\"), 2000)\r\n      }\r\n    })\r\n\r\n    socket.on(\"paymentError\", (data) => {\r\n      console.error(\"Erro no pagamento:\", data)\r\n      setPaymentStatus(\"failed\")\r\n      setError(data.message || \"Falha no pagamento. Tente novamente.\")\r\n      \r\n      // Increment retry count and reinitialize payment if under limit\r\n      if (retryCount < 3) {\r\n        setRetryCount(prev => prev + 1)\r\n        initializePayment()\r\n      }\r\n    })\r\n\r\n    initializePayment()\r\n\r\n    return () => {\r\n      socket.disconnect()\r\n    }\r\n  }, [router, retryCount])\r\n\r\n  const copyToClipboard = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(pixCode)\r\n      setCopied(true)\r\n      setTimeout(() => setCopied(false), 2000)\r\n    } catch (err) {\r\n      console.error(\"Erro ao copiar:\", err)\r\n      setError(\"Não foi possível copiar o código PIX\")\r\n    }\r\n  }\r\n\r\n  const handleRetry = () => {\r\n    setError(null)\r\n    setPaymentStatus(\"pending\")\r\n    setRetryCount(0)\r\n    window.location.reload()\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-r from-pink-400 via-purple-400 to-orange-400\">\r\n        <Card className=\"w-full max-w-md\">\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"flex flex-col items-center space-y-4\">\r\n              <Loader2 className=\"h-8 w-8 animate-spin text-purple-600\" />\r\n              <p>Gerando pagamento...</p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-pink-400 via-purple-400 to-orange-400\">\r\n      <Card className=\"w-full max-w-md bg-white/80 backdrop-blur-sm\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-center\">Informações do Pagamento</CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-6\">\r\n          {!socketConnected && (\r\n            <Alert variant=\"warning\">\r\n              <AlertDescription>\r\n                Conectando ao servidor de pagamentos...\r\n              </AlertDescription>\r\n            </Alert>\r\n          )}\r\n\r\n          <div className=\"bg-gray-100 p-4 rounded-lg\">\r\n            <h3 className=\"text-lg font-medium mb-2\">{description}</h3>\r\n            <p className=\"text-2xl font-bold text-purple-600\">{value}</p>\r\n          </div>\r\n\r\n          {error ? (\r\n            <Alert variant=\"destructive\">\r\n              <AlertCircle className=\"h-4 w-4\" />\r\n              <AlertDescription>{error}</AlertDescription>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={handleRetry}\r\n                className=\"mt-2\"\r\n              >\r\n                Tentar novamente\r\n              </Button>\r\n            </Alert>\r\n          ) : (\r\n            <div className=\"flex flex-col items-center space-y-4\">\r\n              {qrCodeData && (\r\n                <img\r\n                  src={qrCodeData || \"/placeholder.svg\"}\r\n                  alt=\"QR Code PIX\"\r\n                  className=\"w-64 h-64\"\r\n                />\r\n              )}\r\n              <p className=\"text-sm text-gray-500 text-center\">\r\n                Escaneie o QR Code acima com o seu aplicativo bancário para realizar o pagamento via PIX\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          <Button\r\n            className=\"w-full\"\r\n            onClick={copyToClipboard}\r\n            disabled={!!error || !socketConnected}\r\n          >\r\n            {copied ? (\r\n              <>\r\n                <Check className=\"mr-2 h-4 w-4\" />\r\n                Copiado!\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Copy className=\"mr-2 h-4 w-4\" />\r\n                Copiar código PIX\r\n              </>\r\n            )}\r\n          </Button>\r\n\r\n          {!error && (\r\n            <div className=\"text-center\">\r\n              <p\r\n                className={`font-semibold ${\r\n                  paymentStatus === \"confirmed\"\r\n                    ? \"text-green-600\"\r\n                    : paymentStatus === \"failed\"\r\n                    ? \"text-red-600\"\r\n                    : \"text-gray-600\"\r\n                }`}\r\n              >\r\n                {paymentStatus === \"confirmed\"\r\n                  ? \"Pagamento confirmado!\"\r\n                  : paymentStatus === \"failed\"\r\n                  ? \"Pagamento falhou. Tente novamente.\"\r\n                  : \"Aguardando pagamento...\"}\r\n              </p>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}